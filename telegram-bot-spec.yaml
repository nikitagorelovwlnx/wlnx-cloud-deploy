name: wlnx-telegram-bot
region: fra

workers:
  - name: telegram-bot
    environment_slug: node-js
    github:
      repo: nikitagorelovwlnx/wlnx-telegram-bot
      branch: main
      deploy_on_push: true
    instance_size_slug: apps-s-1vcpu-0.5gb
    instance_count: 1
    build_command: echo "No build needed - using ts-node"
    run_command: npm start
    envs:
      - key: NODE_ENV
        value: production
        scope: RUN_AND_BUILD_TIME
      - key: TELEGRAM_BOT_TOKEN
        type: SECRET
        value: "8333194739:AAGNb5E4NwwmdP7rhYQlvR6jrTBsS87H9W8"
      - key: API_BASE_URL
        value: "https://wlnx-api-server-mihzk.ondigitalocean.app/api"
        scope: RUN_TIME
      - key: WEBHOOK_URL
        value: "https://wlnx-api-server-mihzk.ondigitalocean.app/api/webhook/telegram"
        scope: RUN_TIME
